---
import Spotlight from "@/components/shared/molecules/Spotlight.astro";
import Card from "@/components/shared/molecules/Card/Card.astro";
import TagRow from "@/components/shared/atoms/TagRow.astro";
import Tag from "@/components/shared/atoms/Tag.astro";

interface Props {
  title: string;
  description: string;
  date: Date;
  tags: string[];
  href: string;
}

const { title, description, date, tags, href } = Astro.props;

const formattedDate = date.toLocaleDateString("fr-FR", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<a href={href} class="article-card-link">
  <Spotlight color="var(--accent-color)">
    <Card>
      <time datetime={date.toISOString()}>{formattedDate}</time>
      <h3>{title}</h3>
      <p>{description}</p>
      {tags.length > 0 && (
        <TagRow class="article-card-tags">
          {tags.map((tag) => <Tag title={tag} />)}
        </TagRow>
      )}
    </Card>
  </Spotlight>
</a>

<style>
  .article-card-link {
    text-decoration: none;
    display: block;
  }

  time {
    font-size: 13px;
    color: var(--text-muted);
  }

  .article-card-tags {
    padding-top: 16px;
  }

  h3 {
    font-size: var(--h3-size);
    font-weight: 400;
    color: var(--secondary-accent-color);
    margin: 8px 0 12px;
  }

  p {
    font-size: var(--font-size);
    color: var(--color);
    line-height: 1.6;
    opacity: 0.85;
  }

</style>
