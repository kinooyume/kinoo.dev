---
import SidebarComponent from "./Sidebar.astro";
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSPropsTable from "@/components/design-system/DSPropsTable.astro";
import DSSectionHeader from "@/components/design-system/DSSectionHeader.astro";
---

<section id="sidebar">
  <DSSectionHeader title="Sidebar" atomic="Organism" framework="astro" />
  <p>
    Navigation sidebar with sticky positioning and active state support. Used
    for in-page navigation.
  </p>

  <DSBlock title="Preview">
    <DSPreview class="preview-sidebar">
      <SidebarComponent
        title="Navigation"
        items={[
          { label: "Overview", href: "#overview" },
          { label: "Getting Started", href: "#getting-started" },
          { label: "Components", href: "#components" },
          { label: "API Reference", href: "#api" },
        ]}
      />
    </DSPreview>
  </DSBlock>

  <DSBlock title="With Active State">
    <DSPreview class="preview-sidebar">
      <aside class="sidebar-demo">
        <nav>
          <h3>Section</h3>
          <ul>
            <li><a href="#item1">Item 1</a></li>
            <li><a href="#item2" class="active">Item 2 (active)</a></li>
            <li><a href="#item3">Item 3</a></li>
          </ul>
        </nav>
      </aside>
    </DSPreview>
  </DSBlock>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Default", "Description"]}
      rows={[
        [
          { code: "title" },
          "string",
          "required",
          "Section title displayed above links",
        ],
        [
          { code: "items" },
          "SidebarItem[]",
          "required",
          "Array of navigation items",
        ],
      ]}
    />
  </DSBlock>

</section>

<style>
  .sidebar-demo {
    width: 100%;
  }
  .sidebar-demo nav h3 {
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--accent-color);
    margin-bottom: 16px;
  }
  .sidebar-demo ul {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }
  .sidebar-demo a {
    display: block;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 400;
    color: var(--light-color);
    transition: all 0.2s ease;
  }
  .sidebar-demo a:hover {
    background-color: rgba(255, 255, 255, 0.05);
    color: var(--accent-color);
  }
  .sidebar-demo a.active {
    background-color: var(--orange-tint);
    color: var(--accent-color);
  }
</style>
