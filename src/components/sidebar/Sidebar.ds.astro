---
/**
 * Sidebar Component Documentation
 * Design System - Organism
 */
import Sidebar from "./Sidebar.astro";
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSCode from "@/components/design-system/DSCode.astro";
import DSPropsTable from "@/components/design-system/DSPropsTable.astro";
import DSNote from "@/components/design-system/DSNote.astro";
---

<section id="sidebar">
  <h2>Sidebar</h2>
  <p class="atomic-label">Organism</p>
  <p>Navigation sidebar with sticky positioning and active state support. Used for in-page navigation.</p>

  <DSBlock title="Preview">
    <DSPreview class="preview-sidebar">
      <Sidebar
        title="Navigation"
        items={[
          { label: "Overview", href: "#overview" },
          { label: "Getting Started", href: "#getting-started" },
          { label: "Components", href: "#components" },
          { label: "API Reference", href: "#api" },
        ]}
      />
    </DSPreview>
  </DSBlock>

  <DSBlock title="With Active State">
    <DSPreview class="preview-sidebar">
      <aside class="sidebar-demo">
        <nav>
          <h3>Section</h3>
          <ul>
            <li><a href="#item1">Item 1</a></li>
            <li><a href="#item2" class="active">Item 2 (active)</a></li>
            <li><a href="#item3">Item 3</a></li>
          </ul>
        </nav>
      </aside>
    </DSPreview>
    <DSCode inline>Add .active class to links via JavaScript</DSCode>
  </DSBlock>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Default", "Description"]}
      rows={[
        [{ code: "title" }, "string", "required", "Section title displayed above links"],
        [{ code: "items" }, "SidebarItem[]", "required", "Array of navigation items"],
      ]}
    />
  </DSBlock>

  <DSBlock title="SidebarItem Type">
    <DSCode inline>&#123; label: string; href: string &#125;</DSCode>
  </DSBlock>

  <DSBlock title="Features">
    <ul class="feature-list">
      <li>Sticky positioning at <code>top: 126px</code></li>
      <li>Active state highlighting with accent color</li>
      <li>Hover effects with subtle background</li>
      <li>Responsive: horizontal layout on mobile (&lt;900px)</li>
    </ul>
  </DSBlock>

  <DSBlock title="Usage with View Detection">
    <DSNote>
      Use <code>viewDetection</code> utility for automatic scroll-based highlighting. The utility adds/removes <code>.active</code> class based on which section is in view.
    </DSNote>
  </DSBlock>
</section>

<style>
  .sidebar-demo {
    width: 100%;
  }
  .sidebar-demo nav h3 {
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--accent-color);
    margin-bottom: 16px;
  }
  .sidebar-demo ul {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }
  .sidebar-demo a {
    display: block;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 400;
    color: var(--light-color);
    transition: all 0.2s ease;
  }
  .sidebar-demo a:hover {
    background-color: rgba(255, 255, 255, 0.05);
    color: var(--accent-color);
  }
  .sidebar-demo a.active {
    background-color: rgba(248, 186, 136, 0.12);
    color: var(--accent-color);
  }
  .feature-list {
    list-style: disc;
    padding-left: 24px;
    margin: 0;
  }
  .feature-list li {
    font-size: 15px;
    color: var(--light-color);
    margin-bottom: 8px;
  }
  .feature-list code {
    background-color: #1c2638;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 13px;
  }
</style>
