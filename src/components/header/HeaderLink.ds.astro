---
import HeaderLinkComponent from "./HeaderLink.astro";
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSCode from "@/components/design-system/DSCode.astro";
import DSPropsTable from "@/components/design-system/DSPropsTable.astro";
import DSNote from "@/components/design-system/DSNote.astro";
import DSSectionHeader from "@/components/design-system/DSSectionHeader.astro";

import github from "@/svgs/github.svg?raw";
import linkedin from "@/svgs/linkedin.svg?raw";
---

<section id="headerlink">
  <DSSectionHeader title="HeaderLink" atomic="Atom" framework="astro" />

  <DSBlock title="Icon Variant">
    <DSPreview>
      <HeaderLinkComponent href="#headerlink" label="GitHub">
        <Fragment set:html={github} />
      </HeaderLinkComponent>
      <HeaderLinkComponent href="#headerlink" label="LinkedIn">
        <Fragment set:html={linkedin} />
      </HeaderLinkComponent>
    </DSPreview>
    <DSCode inline>&lt;HeaderLink href="..." label="GitHub"&gt;&lt;svg&gt;...&lt;/svg&gt;&lt;/HeaderLink&gt;</DSCode>
  </DSBlock>

  <DSBlock title="Badge Variant">
    <DSPreview>
      <HeaderLinkComponent href="#headerlink" label="CV" variant="badge" />
      <HeaderLinkComponent href="#headerlink" label="DS" variant="badge" />
    </DSPreview>
    <DSCode inline>&lt;HeaderLink href="..." label="CV" variant="badge" /&gt;</DSCode>
  </DSBlock>

  <DSBlock title="External Links">
    <DSPreview>
      <HeaderLinkComponent href="https://github.com" label="GitHub" external>
        <Fragment set:html={github} />
      </HeaderLinkComponent>
    </DSPreview>
    <DSNote>
      The <code>external</code> prop adds <code>target="_blank"</code> and <code>rel="noreferrer nofollow noopener"</code>.
    </DSNote>
  </DSBlock>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Default", "Description"]}
      rows={[
        [{ code: "href" }, "string", "required", "Link destination"],
        [{ code: "label" }, "string", "required", "Accessible label (also displayed for badge variant)"],
        [{ code: "tooltip" }, "string", "label", "Custom tooltip text (defaults to label)"],
        [{ code: "variant" }, '"icon" | "badge"', '"icon"', "Visual style"],
        [{ code: "external" }, "boolean", "false", "Opens in new tab with security attributes"],
      ]}
    />
  </DSBlock>

  <DSBlock title="Tooltip">
    <DSNote>
      Icon variant displays a tooltip above on hover. Badge variant has no tooltip since it already shows text.
    </DSNote>
  </DSBlock>

  <DSBlock title="Hover States">
    <DSNote>
      Both variants transition to accent color on hover. Icon SVG paths and badge border/text all use the same accent color for consistency.
    </DSNote>
  </DSBlock>
</section>
