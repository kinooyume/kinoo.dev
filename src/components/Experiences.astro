---
import Card from "./Card.astro";
import CardContent from "./CardContent.astro";
import CardTitle from "./CardTitle.astro";
import Spotlight from "./Spotlight.astro";
---

<section id="experiences" data-animate-section>
  <span class="subtitle">Mes</span>
  <h2>Expériences</h2>
  <div class="grid" id="experiences-grid" data-spotlight>
    <Spotlight color="var(--pink)" class="verty">
      <Card>
        <CardContent>
          <CardTitle
            slot="title"
            title="Développeur backend"
            tag="Freelance"
            href="https://verty.eu/"
            label="Verty"
            location="Remote"
            date="2025 (3 mois)"
          />
          <p slot="description">
            Conception et développement d'une synchronisation entre Shopify et un
            site de vente externe via les APIs. Services en <string>Go</string> hébergés
            sur Scaleway, avec une architecture fiable et maintenable.
          </p>
          <img loading="lazy" slot="marge" src="images/verty.webp" alt="verty" />
        </CardContent>
      </Card>
    </Spotlight>
    <Spotlight color="var(--pink)" class="impacthorizon">
      <Card>
        <CardContent>
          <CardTitle
            slot="title"
            title="Développeur frontend"
            tag="Freelance"
            href="https://impacthorizongroup.com/"
            label="Impact Horizon"
            location="Remote"
            date="2025 (6 mois)"
          />
          <p slot="description">
            Développement d'un système <strong>React</strong> de génération de sites
            <strong>data-driven</strong>, structuré pour les LLM. Architecture
            modulaire avec composants réutilisables (UI, logique, intégrations
            externes).
          </p>
          <img
            loading="lazy"
            slot="marge"
            src="images/impacthorizon.webp"
            alt="impacthorizon"
          />
        </CardContent>
      </Card>
    </Spotlight>
    <Spotlight color="var(--pink)" class="opo">
      <Card>
        <CardContent>
          <CardTitle
            slot="title"
            title="Lead Développeur fullstack"
            tag="CDI"
            href="https://oeilpouroeilcreations.fr"
            label="Oeil pour Oeil"
            location="Lille"
            date="2019-2022 (3 ans et 6 mois)"
          />
          <p slot="description">
            Responsable du développement du catalogue des formations gamifiées et
            formations sur-mesure, de l'infrastructure et du parcours client. En
            collaboration étroite avec l'UX designer, le marketing ainsi que les
            clients.
          </p>

          <ul>
            <li>
              Développement d'application en <b>ReactJs</b>, <b>VueJs</b> et <b
                >Svelte</b
              >, responsive.
            </li>
            <li>
              Package <b>SCORM</b> pour le suivi des formations ou depuis un SaaS interne.
            </li>
            <li>
              Déploiement en CI/CD, test avec <b>Jest</b> et <b>Cypress</b>,
              monitoring avec <b>Sentry</b>.
            </li>
            <li>
              Architecture Backend <b>SOA</b>, services internes en <b>Go</b> et services
              externes (headlessCMS, CRM, ...).
            </li>
            <li>
              Api principalement en <b>REST</b> et <b>GraphQL</b> pour le headlessCMS.
            </li>
            <li>
              Site vitrine optimisé pour le référencement <b>SEO</b>, écrit en <b
                >Svelte</b
              >, SSG avec <b>ElderJs</b>.Mainteneur d'ElderJs.
            </li>
            <li>
              Framework de génération de formation (SSG), écrit en Rescript,
              architecture hexagonale, data-driven et framework agnostic.
            </li>
          </ul>
          <img
            loading="lazy"
            slot="marge"
            src="images/opo.png"
            alt="oeilpouroeil"
          />
        </CardContent>
      </Card>
    </Spotlight><Spotlight color="var(--pink)" class="ordoclic">
      <Card>
        <CardContent>
          <CardTitle
            slot="title"
            title="Lead Développeur"
            tag="Freelance"
            href="https://ordoclic.fr"
            label="Ordoclic"
            location="Lille"
            date="2017-2018 (8 mois)"
          />
          <p slot="description">
            Responsable du développement d'une imprimante virtuelle chez les
            professionnelles de santé afin de faciliter le passage aux ordonnances
            numériques.
          </p>
          <ul>
            <li>Application electron.js se comportant comme une imprimante</li>
            <li>Chiffrement d'ordonnance avec le protocole pkcs11</li>
            <li>Envois de document à travers une API</li>
          </ul>
          <img
            loading="lazy"
            slot="marge"
            src="images/ordoclic.png"
            alt="ordoclic"
          />
        </CardContent>
      </Card>
    </Spotlight><Spotlight color="var(--pink)" class="cautioneo">
      <Card>
        <CardContent>
          <CardTitle
            slot="title"
            title="Développeur RubyOnRails"
            tag="Freelance"
            href="https://cautioneo.com"
            label="Cautioneo"
            location="Lille"
            date="2018 (2 mois)"
          />
          <p slot="description">Développement du Saas en RubyOnRails.</p>
          <ul>
            <li>Développement du parcours locataire</li>
            <li>Développement d'un CRM custom</li>
          </ul>
          <img
            loading="lazy"
            slot="marge"
            src="images/cautioneo.png"
            alt="cautioneo"
          />
        </CardContent>
      </Card>
    </Spotlight>
  </div>
</section>

<script>
  import { spotlight } from "@/lib/dom/spotlight";

  const container = document.getElementById("experiences-grid");
  if (container) {
    spotlight(container);
  }
</script>

<style>
  #experiences {
    --accent-color: #f68dab;
    --secondary-accent-color: #f8c8d9;
    --card-title-font-size: 16px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, minmax(0, auto));
    grid-column-gap: 26px;
    grid-row-gap: 26px;
  }

  img {
    width: 51px;
    height: 51px;
  }

  .grid > :global(.verty) {
    grid-area: 1 / 1 / 2 / 2;
  }

  .grid > :global(.impacthorizon) {
    grid-area: 2 / 1 / 3 / 2;
  }

  .grid > :global(.opo) {
    grid-area: 1 / 2 / 3 / 3;
  }

  ul {
    list-style: initial;
    margin-left: 24px;
  }

  @media screen and (max-width: 1200px) {
    .grid {
      display: flex;
      flex-direction: column;
    }
  }

  @media screen and (max-width: 600px) {
    #experiences {
      --card-title-font-size: 14px;
    }
  }
  @media screen and (max-width: 460px) {
    img {
      display: none;
    }
  }
</style>
