---
/**
 * Card Component Documentation
 * Design System - Molecule
 * Includes: Card, CardContent, CardTitle, CardSplit
 */
import CardComponent from "./Card.astro";
import Tag from "@/components/shared/atoms/Tag.astro";
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSCode from "@/components/design-system/DSCode.astro";
import DSPropsTable from "@/components/design-system/DSPropsTable.astro";
import DSNote from "@/components/design-system/DSNote.astro";
import DSStructure from "@/components/design-system/DSStructure.astro";
import DSSectionHeader from "@/components/design-system/DSSectionHeader.astro";
---

<!-- CARD -->
<section id="card">
  <DSSectionHeader title="Card" atomic="Molecule" framework="astro" />
  <p>Base container component with gradient border effect. Parent of the Card compound system.</p>

  <DSBlock title="Basic Card">
    <DSPreview class="preview-card">
      <CardComponent>
        <p>Card content goes here. Cards use slots for flexible content.</p>
      </CardComponent>
    </DSPreview>
    <DSCode inline>&lt;Card&gt;...content...&lt;/Card&gt;</DSCode>
  </DSBlock>

  <DSBlock title="Card with Content">
    <DSPreview class="preview-card">
      <CardComponent>
        <div class="card-content-demo">
          <div class="title-row">
            <h3>Project Title</h3>
            <Tag title="React" />
          </div>
          <p class="description">This is a description of the project. Cards support complex layouts with titles, tags, and descriptions.</p>
          <div class="tags">
            <Tag title="TypeScript" />
            <Tag title="Next.js" />
          </div>
        </div>
      </CardComponent>
    </DSPreview>
  </DSBlock>

  <DSBlock title="Card Family Overview">
    <DSPropsTable
      headers={["Component", "Purpose", "Usage"]}
      rows={[
        [{ code: "Card" }, "Base container", "Wrapper with gradient border"],
        [{ code: "CardContent" }, "Layout helper", "Structured content with slots"],
        [{ code: "CardTitle" }, "Title block", "Job/project title with metadata"],
        [{ code: "CardSplit" }, "Two-column layout", "Title + description + aside"],
      ]}
    />
  </DSBlock>

  <DSBlock title="Animation Attributes">
    <DSNote>
      Add <code>data-animate-elem</code> to elements for reveal animations. Used with <code>revealCards</code> utility for staggered fade-in effects.
    </DSNote>
  </DSBlock>
</section>

<!-- CARD CONTENT -->
<section id="card-content">
  <DSSectionHeader title="CardContent" atomic="Molecule" framework="astro" />
  <p>Layout wrapper with named slots for structured card content. Used inside Card.</p>

  <DSBlock title="Slots">
    <DSStructure
      rows={[
        { code: "slot=\"title\"", description: "Header/title area" },
        { code: "slot=\"marge\"", description: "Right-aligned content next to title" },
        { code: "slot=\"description\"", description: "Main body text" },
        { code: "default slot", description: "Additional content (tags, links)" },
      ]}
    />
  </DSBlock>

  <DSBlock title="Usage">
    <DSCode inline>&lt;Card&gt;&lt;CardContent&gt;...&lt;/CardContent&gt;&lt;/Card&gt;</DSCode>
  </DSBlock>
</section>

<!-- CARD TITLE -->
<section id="card-title">
  <DSSectionHeader title="CardTitle" atomic="Molecule" framework="astro" />
  <p>Title block for cards with company/project metadata. Uses H3Tagged internally.</p>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Description"]}
      rows={[
        [{ code: "title" }, "string", "Main title (uses H3Tagged)"],
        [{ code: "tag" }, "string", "Category badge"],
        [{ code: "href" }, "string", "Company/project URL"],
        [{ code: "label" }, "string", "Link text"],
        [{ code: "location" }, "string", "Location (with dot separators)"],
        [{ code: "date" }, "string", "Date range"],
      ]}
    />
  </DSBlock>

  <DSBlock title="Usage">
    <DSCode inline>&lt;CardTitle slot="title" title="Developer" tag="Freelance" ... /&gt;</DSCode>
  </DSBlock>
</section>

<!-- CARD SPLIT -->
<section id="card-split">
  <DSSectionHeader title="CardSplit" atomic="Molecule" framework="astro" />
  <p>Two-column grid layout for cards with title, description, and aside areas.</p>

  <DSBlock title="Layout Preview">
    <DSPreview class="preview-card">
      <div class="card-split-demo">
        <div class="split-title">
          <div class="placeholder-box">Title Slot</div>
        </div>
        <div class="split-description">
          <div class="placeholder-box tall">Description Slot</div>
        </div>
        <div class="split-aside">
          <div class="placeholder-box full">Aside Slot</div>
        </div>
      </div>
    </DSPreview>
    <DSCode inline>&lt;CardSplit reverse&gt; to flip layout</DSCode>
  </DSBlock>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Default", "Description"]}
      rows={[
        [{ code: "reverse" }, "boolean", "false", "Flips the layout (aside on left)"],
      ]}
    />
  </DSBlock>

  <DSBlock title="Slots">
    <DSPropsTable
      headers={["Slot", "Grid Area", "Description"]}
      rows={[
        [{ code: "title" }, "Top-left", "Card header with H3Tagged"],
        [{ code: "description" }, "Bottom-left", "Main content area"],
        [{ code: "aside" }, "Right column (spans 2 rows)", "Image or supplementary content"],
      ]}
    />
  </DSBlock>
</section>

<style>
  .card-content-demo {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .card-content-demo .title-row {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .card-content-demo h3 {
    margin: 0;
    font-size: 24px;
  }
  .card-content-demo .description {
    color: var(--light-color);
    font-weight: 200;
  }
  .card-content-demo .tags {
    display: flex;
    gap: 8px;
  }
  .card-content-demo .tags :global(.tag) {
    opacity: 1;
  }
  .card-split-demo {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 16px;
    width: 100%;
  }
  .split-title {
    grid-area: 1 / 1 / 2 / 2;
  }
  .split-description {
    grid-area: 2 / 1 / 3 / 2;
  }
  .split-aside {
    grid-area: 1 / 2 / 3 / 3;
  }
  .placeholder-box {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px dashed rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 16px;
    text-align: center;
    font-size: 13px;
    color: var(--color);
    opacity: 0.6;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .placeholder-box.tall {
    height: 100px;
  }
  .placeholder-box.full {
    height: 100%;
    min-height: 176px;
  }
</style>
