---
interface Props {
  color: string;
  class?: string;
}

const { color, class: className } = Astro.props;
---

<div
  class:list={["spotlight-card", className]}
  data-spotlight-card
  data-animate-card
  style={`--spotlight-color: ${color}`}
>
  <div class="spotlight-inner">
    <slot />
  </div>
</div>

<style>
  .spotlight-card {
    position: relative;
    overflow: hidden;
    border-radius: 32px;
    padding: 1px;
    background-color: rgba(71, 85, 105, 0.48);
  }

  .spotlight-card::before {
    content: "";
    position: absolute;
    width: 20rem;
    height: 20rem;
    left: -10rem;
    top: -10rem;
    background: var(--spotlight-color);
    border-radius: 9999px;
    filter: blur(100px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 500ms;
    transform: translateX(var(--mouse-x, 0px)) translateY(var(--mouse-y, 0px));
    z-index: 2;
  }

  .spotlight-card::after {
    content: "";
    position: absolute;
    width: 24rem;
    height: 24rem;
    left: -12rem;
    top: -12rem;
    background: var(--spotlight-color);
    border-radius: 9999px;
    filter: blur(100px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 500ms;
    transform: translateX(var(--mouse-x, 0px)) translateY(var(--mouse-y, 0px));
    z-index: 4;
  }

  :global([data-spotlight]):hover .spotlight-card::before {
    opacity: 1;
  }

  .spotlight-card:hover::after {
    opacity: 0.1;
  }

  @media (hover: none) {
    .spotlight-card::before {
      opacity: 0.6;
    }

    .spotlight-card::after {
      opacity: 0.06;
    }
  }

  .spotlight-inner {
    position: relative;
    z-index: 3;
    background-color: var(--card-background-color, #1c2638);
    background: linear-gradient(45deg, #172033, #1e293b 50%, #172033);
    border-radius: 31px;
    height: 100%;
  }
</style>
