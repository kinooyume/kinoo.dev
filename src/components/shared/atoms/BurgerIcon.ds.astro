---
import BurgerIconComponent from "./BurgerIcon.astro";
import IconButton from "./IconButton.astro";
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSNote from "@/components/design-system/DSNote.astro";
import DSSectionHeader from "@/components/design-system/DSSectionHeader.astro";
---

<section id="burgericon">
  <DSSectionHeader title="BurgerIcon" atomic="Atom" framework="astro" />
  <p>Animated hamburger menu icon that transforms to an X when the parent has <code>.open</code> class.</p>

  <DSBlock title="Interactive">
    <DSPreview>
      <div class="toggle-demo" id="burger-toggle">
        <IconButton label="Toggle menu" class="burger-demo-btn">
          <BurgerIconComponent />
        </IconButton>
        <span class="state-label">Click to toggle</span>
      </div>
    </DSPreview>
    <DSNote>
      Designed to be used inside an <code>IconButton</code>. The animation triggers when the parent element has the <code>.open</code> class.
    </DSNote>
  </DSBlock>
</section>

<script>
  const btn = document.querySelector(".burger-demo-btn");
  btn?.addEventListener("click", () => btn.classList.toggle("open"));
</script>

<style>
  .toggle-demo {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  .state-label {
    font-size: 13px;
    color: var(--color);
    opacity: 0.7;
  }
</style>
