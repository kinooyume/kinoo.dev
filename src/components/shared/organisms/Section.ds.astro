---
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSPreview from "@/components/design-system/DSPreview.astro";
import DSPropsTable from "@/components/design-system/DSPropsTable.astro";
import DSNote from "@/components/design-system/DSNote.astro";
import DSSectionHeader from "@/components/design-system/DSSectionHeader.astro";
---

<section id="section-pattern">
  <DSSectionHeader
    title="Section Pattern"
    atomic="Organism"
    framework="astro"
  />
  <p>
    Shared layout pattern used by Experiences, Realisations, and Formations
    sections.
  </p>

  <DSBlock title="Section Header">
    <DSPreview class="section-header-preview">
      <div class="section-header-demo">
        <span class="section-subtitle">Mes</span>
        <h2 class="section-h2">Exp√©riences</h2>
      </div>
    </DSPreview>
  </DSBlock>

  <DSBlock title="Props">
    <DSPropsTable
      headers={["Prop", "Type", "Description"]}
      rows={[
        [{ code: "id" }, "string", "Section anchor ID"],
        [{ code: "subtitle" }, "string", 'Label above the title (e.g., "Mes")'],
        [{ code: "title" }, "string", "Section heading"],
      ]}
    />
  </DSBlock>

  <DSBlock title="Sections">
    <DSPropsTable
      headers={["Section", "Color Theme", "Card Type"]}
      rows={[
        [{ code: "Experiences" }, "Pink (#f68dab)", "CardContent"],
        [{ code: "Realisations" }, "Green (#66c384)", "CardSplit"],
        [{ code: "Formations" }, "Purple (#9c85d3)", "CardContent"],
      ]}
    />
    <DSNote>
      Each section overrides <code>--accent-color</code> and <code>--secondary-accent-color</code> via scoped <code>:global(#id)</code>.
    </DSNote>
  </DSBlock>
</section>

<style>
  .section-header-preview :global(.ds-preview) {
    flex-direction: column;
    align-items: flex-start;
  }

  .section-header-demo {
    display: flex;
    flex-direction: column;
  }

  .section-subtitle {
    font-size: 16px;
    color: var(--accent-color);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .section-h2 {
    font-size: 48px;
    font-weight: 300;
    color: var(--color);
    margin: 0;
  }
</style>
