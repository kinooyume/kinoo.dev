---
import H3Tagged from "@/components/shared/atoms/H3Tagged.astro";
import Card from "@/components/shared/molecules/Card/Card.astro";
import CardSplit from "@/components/shared/molecules/Card/CardSplit.astro";
import Slider from "@/components/shared/molecules/Slider/Slider.tsx";
import arrow from "@/svgs/arrow.svg?raw";
import Link from "@/components/shared/atoms/Link.astro";
import ekeynoxIcon from "@/svgs/ekeynox.svg?raw";
import Tag from "@/components/shared/atoms/Tag.astro";
import TagRow from "@/components/shared/atoms/TagRow.astro";
import Spotlight from "@/components/shared/molecules/Spotlight.astro";
import LogoBox from "@/components/shared/atoms/LogoBox.astro";
import CardDescription from "@/components/shared/molecules/Card/CardDescription.astro";
import Section from "@/components/shared/organisms/Section.astro";
---

<Section id="realisations" subtitle="Mes" title="Réalisations">
  <div class="grid" id="realisations-grid" data-spotlight>
    <Spotlight color="#66c384" class="ekeynox">
      <Card>
        <CardSplit>
          <div slot="title" class="title-wrapper">
            <div class="title-container">
              <H3Tagged title="Ekeynox" tag="Projet perso" />
              <Link
                href="https://ekeynox.kinoo.dev"
                text="Visiter le site"
              />
            </div>
            <LogoBox>
              <Fragment set:html={ekeynoxIcon} />
            </LogoBox>
          </div>
          <CardDescription slot="description">
            <p>
              Ekeynox est un jeu de <b>dactylographie</b>, permettant de
              s'entrainer à taper au clavier, plus rapidement et sans fautes.
            </p>
            <br />
            <p>
              Le jeu propose 2 modes de jeu, un mode <b>course de mot</b> et un mode
              <b>contre la montre</b> et différent type de contenu, à savoir <b
                >des mots aléatoires</b
              >, des <b>citations</b> ou un <b>texte personnalisé</b>.
            </p>
            <br />
            <p>
              À la fin d'une partie, le joueur peut consulter ses <b>
                statistiques</b
              > et
              <b>rejouer</b> en mode fantôme contre son score précédent.
            </p>
            <br />
            <TagRow>
              <Tag title="SolidJS" />
              <Tag title="SolidStart" />
              <Tag title="Figma" />
            </TagRow>
          </CardDescription>
          <Slider
            slot="aside"
            client:load
            pictures={[
              "ekeynox/01.webp",
              "ekeynox/02.webp",
              "ekeynox/03.webp",
              "ekeynox/04.webp",
              "ekeynox/05.webp",
              "ekeynox/06.webp",
              "ekeynox/07.webp",
              "ekeynox/08.webp",
            ]}
          >
            <Fragment set:html={arrow} />
          </Slider>
        </CardSplit>
      </Card>
    </Spotlight>
    <Spotlight color="#66c384" class="arteflix">
      <Card>
        <CardSplit vertical>
          <div slot="title" class="title-wrapper">
            <div class="title-container">
              <H3Tagged title="Arteflix" tag="Projet perso" />
              <div class="links-row">
                <Link
                  href="https://arteflix.kinoo.dev"
                  text="Visiter le site"
                />
                <Link
                  href="https://github.com/kinooyume/arteflix"
                  text="Voir le code"
                />
              </div>
            </div>
            <LogoBox>
              <img alt="arteflix" src="/images/arteflix/logo.webp" />
            </LogoBox>
          </div>
          <CardDescription slot="description">
            <p>
              Arteflix est un site web permetant d'accéder au catalogue d'<b
                >ARTE</b
              > en reprenant le system design de <b>Netflix</b>.
            </p>
            <br />
            <p>
              Le site web respecte l'url du site arte.tv, il suffit donc de
              changer l'url pour accéder au même contenu.
            </p>
            <br />
            <br />
            <TagRow>
              <Tag title="React" />
              <Tag title="Next.js" />
              <Tag title="Rescript" />
              <Tag title="Storybook" />
            </TagRow>
          </CardDescription>
          <Slider
            slot="aside"
            client:load
            pictures={[
              "arteflix/01.webp",
              "arteflix/02.webp",
              "arteflix/03.webp",
            ]}
          >
            <Fragment set:html={arrow} />
          </Slider>
        </CardSplit>
      </Card>
    </Spotlight>
    <Spotlight color="#66c384" class="sunnydash">
      <Card>
        <CardSplit vertical>
          <div slot="title" class="title-wrapper">
            <div class="title-container">
              <H3Tagged title="SunnyDash" tag="Projet perso" />
              <Link
                href="https://github.com/kinooyume/sunnydash"
                text="Voir le code"
              />
            </div>
            <LogoBox>
              <img alt="sunnydash" src="/images/sunnydash/logo.webp" />
            </LogoBox>
          </div>
          <CardDescription slot="description">
            <p>
              Dashboard météo en <b>Svelte 5</b>, exemple d'<b
                >architecture hexagonale</b
              >
              appliquée au frontend.
            </p>
            <br />
            <p>
              Les APIs météo sont interchangeables via <b>ports & adapters</b>
              (OpenMeteo et mock). Tests unitaires avec <b>Vitest</b> et E2E avec
              <b>Playwright</b>.
            </p>
            <br />
            <TagRow>
              <Tag title="Svelte 5" />
              <Tag title="SvelteKit" />
              <Tag title="TypeScript" />
            </TagRow>
          </CardDescription>
          <Slider
            slot="aside"
            client:load
            pictures={["sunnydash/01.webp", "sunnydash/02.webp"]}
          >
            <Fragment set:html={arrow} />
          </Slider>
        </CardSplit>
      </Card>
    </Spotlight>
    <Spotlight color="#66c384" class="kinoodev">
      <Card>
        <CardSplit reverse>
          <div slot="title" class="title-wrapper">
            <div class="title-container">
              <H3Tagged title="kinoo.dev" tag="Portfolio" />
              <div class="links-row">
                <Link href="/design-system" text="Design System" />
                <Link
                  href="https://github.com/kinooyume/kinoo.dev"
                  text="Voir le code"
                />
              </div>
            </div>
            <LogoBox>
              <img alt="kinoo.dev" src="/favicon.svg" />
            </LogoBox>
          </div>
          <CardDescription slot="description">
            <p>
              Site portfolio personnel conçu avec <b>Astro</b> et <b>SolidJS</b
              >, optimisé pour la performance et l'accessibilité.
            </p>
            <br />
            <p>
              Animations fluides avec <b>Anime.js</b> et système de design modulaire
              avec composants <b>Design System</b>.
            </p>
            <br />
            <p>
              Architecture <b>Islands</b> pour un chargement optimal, formulaire de
              contact avec validation, et CI/CD automatisé avec <b
                >conventional commits</b
              > et déploiement sur <b>Netlify</b>.
            </p>
            <br />
            <TagRow>
              <Tag title="Astro" />
              <Tag title="SolidJS" />
              <Tag title="TypeScript" />
              <Tag title="Anime.js" />
            </TagRow>
          </CardDescription>
          <Slider
            slot="aside"
            client:load
            pictures={[
              "kinoo.dev/01.webp",
              "kinoo.dev/02.webp",
              "kinoo.dev/03.webp",
            ]}
          >
            <Fragment set:html={arrow} />
          </Slider>
        </CardSplit>
      </Card>
    </Spotlight>
  </div>
</Section>

<script>
  import { spotlight } from "@/lib/dom/spotlight";
  const container = document.getElementById("realisations-grid");
  if (container) spotlight(container);
</script>

<style>
  :global(#realisations) {
    --accent-color: #66c384;
    --secondary-accent-color: #80d49a;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, auto);
    grid-row-gap: 26px;
    grid-column-gap: 26px;
  }

  .grid > :global(.ekeynox) {
    grid-area: 1 / 1 / 2 / 3;
  }

  .grid > :global(.arteflix) {
    grid-area: 2 / 1 / 3 / 2;
  }

  .grid > :global(.sunnydash) {
    grid-area: 2 / 2 / 3 / 3;
  }

  .grid > :global(.kinoodev) {
    grid-area: 3 / 1 / 4 / 3;
  }

  .title-wrapper {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .title-container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    gap: 4px;
    align-items: flex-start;
  }

  .links-row {
    display: flex;
    flex-direction: row;
    gap: 8px;
    flex-wrap: wrap;
  }

  @media screen and (max-width: 900px) {
    .grid {
      display: flex;
      flex-direction: column;
    }
  }
</style>
