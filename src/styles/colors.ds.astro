---
import DSBlock from "@/components/design-system/DSBlock.astro";
import DSNote from "@/components/design-system/DSNote.astro";

type Color = { var: string; hex: string; border?: boolean };

const backgrounds: Color[] = [
  { var: "--background-color", hex: "#181927" },
  { var: "--background-frosted", hex: "rgba(24, 25, 39, 0.05)" },
];

const texts: Color[] = [
  { var: "--color", hex: "#e0e0e0" },
  { var: "--light-color", hex: "#f6f5f7" },
];

const accents: Color[] = [
  { var: "--accent-color", hex: "#f8ba88" },
  { var: "--secondary-accent-color", hex: "#c9a88d" },
  { var: "--accent-bright", hex: "#f6b17a" },
  { var: "--accent-tint", hex: "var(--orange-tint)" },
];

const oranges: Color[] = [
  { var: "--orange-lightest", hex: "#f8dbc4" },
  { var: "--orange-light", hex: "#f7caa6" },
  { var: "--orange", hex: "#f8ba88" },
  { var: "--orange-dark", hex: "#f4ac72" },
  { var: "--orange-darker", hex: "#ea9957" },
  { var: "--orange-darkest", hex: "#d17d39" },
  { var: "--orange-bg", hex: "rgba(248, 186, 136, 0.05)" },
  { var: "--orange-tint", hex: "rgba(248, 186, 136, 0.1)" },
];

const reds: Color[] = [
  { var: "--red-lightest", hex: "#f3cece" },
  { var: "--red-light", hex: "#edabab" },
  { var: "--red", hex: "#ea8686" },
  { var: "--red-dark", hex: "#dc6a6a" },
  { var: "--red-darker", hex: "#cb4d4d" },
  { var: "--red-darkest", hex: "#a63a3a" },
  { var: "--red-bg", hex: "rgba(234, 134, 134, 0.05)" },
  { var: "--red-tint", hex: "rgba(234, 134, 134, 0.1)" },
];

const greens: Color[] = [
  { var: "--green-lightest", hex: "#c0edcf" },
  { var: "--green-light", hex: "#a4dfb8" },
  { var: "--green", hex: "#66c384" },
  { var: "--green-dark", hex: "#5ab376" },
  { var: "--green-darker", hex: "#4a9c63" },
  { var: "--green-darkest", hex: "#3d8552" },
  { var: "--green-bg", hex: "rgba(102, 195, 132, 0.05)" },
  { var: "--green-tint", hex: "rgba(102, 195, 132, 0.1)" },
];

const pinks: Color[] = [
  { var: "--pink-lightest", hex: "#f8c8d9" },
  { var: "--pink-light", hex: "#f8a4c0" },
  { var: "--pink", hex: "#f68dab" },
  { var: "--pink-dark", hex: "#f47799" },
  { var: "--pink-darker", hex: "#f26088" },
  { var: "--pink-darkest", hex: "#d55478" },
  { var: "--pink-bg", hex: "rgba(246, 141, 171, 0.05)" },
  { var: "--pink-tint", hex: "rgba(246, 141, 171, 0.1)" },
];

const purples: Color[] = [
  { var: "--purple-lightest", hex: "#c9bce6" },
  { var: "--purple-light", hex: "#b09ee0" },
  { var: "--purple", hex: "#9c85d3" },
  { var: "--purple-dark", hex: "#8870c7" },
  { var: "--purple-darker", hex: "#745bba" },
  { var: "--purple-darkest", hex: "#6048a0" },
  { var: "--purple-bg", hex: "rgba(156, 133, 211, 0.05)" },
  { var: "--purple-tint", hex: "rgba(156, 133, 211, 0.1)" },
];

const surfaces: Color[] = [
  { var: "--card-surface-raised", hex: "#2d2d3b" },
  { var: "--card-surface", hex: "#1c2638" },
  { var: "--card-surface-hover", hex: "#313d50" },
];

const borders: Color[] = [
  { var: "--border-color", hex: "rgba(255, 255, 255, 0.1)", border: true },
  { var: "--border-hover-color", hex: "rgba(255, 255, 255, 0.2)", border: true },
];
---

<section id="colors">
  <h2>Colors</h2>
  <p>Color palette and CSS variables used throughout the website.</p>

  <DSBlock title="Background Colors">
    <div class="color-grid">
      {backgrounds.map(c => (
        <div class="color-swatch">
          <div class="swatch" style={`background-color: var(${c.var});`} />
          <div class="color-info">
            <code>{c.var}</code>
            <span>{c.hex}</span>
          </div>
        </div>
      ))}
    </div>
  </DSBlock>

  <DSBlock title="Surface Colors">
    <div class="color-grid">
      {surfaces.map(c => (
        <div class="color-swatch">
          <div class="swatch" style={`background-color: var(${c.var});`} />
          <div class="color-info">
            <code>{c.var}</code>
            <span>{c.hex}</span>
          </div>
        </div>
      ))}
    </div>
  </DSBlock>

  <DSBlock title="Text Colors">
    <div class="color-grid">
      {texts.map(c => (
        <div class="color-swatch">
          <div class="swatch" style={`background-color: var(${c.var});`} />
          <div class="color-info">
            <code>{c.var}</code>
            <span>{c.hex}</span>
          </div>
        </div>
      ))}
    </div>
  </DSBlock>

  <DSBlock title="Accent Colors">
    <div class="color-grid">
      {accents.map(c => (
        <div class="color-swatch">
          <div class="swatch" style={`background-color: var(${c.var});`} />
          <div class="color-info">
            <code>{c.var}</code>
            <span>{c.hex}</span>
          </div>
        </div>
      ))}
    </div>
  </DSBlock>

  <DSBlock title="Section Theme Colors">
    <DSNote>
      Each section uses a themed color palette. These override <code>--accent-color</code> and <code>--secondary-accent-color</code> at the section level.
    </DSNote>

    {([
      { title: "Orange (Accent)", colors: oranges },
      { title: "Red (Error / Validation)", colors: reds },
      { title: "Green (Realisations)", colors: greens },
      { title: "Pink (Experiences)", colors: pinks },
      { title: "Purple (Formations)", colors: purples },
    ] as const).map(group => (
      <Fragment>
        <h4>{group.title}</h4>
        <div class="color-grid">
          {group.colors.map(c => (
            <div class="color-swatch">
              <div class="swatch" style={`background-color: var(${c.var});`} />
              <div class="color-info">
                <code>{c.var}</code>
                <span>{c.hex}</span>
              </div>
            </div>
          ))}
        </div>
      </Fragment>
    ))}
  </DSBlock>

  <DSBlock title="Border Colors">
    <div class="color-grid">
      {borders.map(c => (
        <div class="color-swatch">
          <div class={`swatch${c.border ? " swatch-border" : ""}`} style={`background-color: ${c.hex};`} />
          <div class="color-info">
            <code>{c.var}</code>
            <span>{c.hex}</span>
          </div>
        </div>
      ))}
    </div>
  </DSBlock>

  <DSBlock title="Usage">
    <DSNote>
      Import variables from <code>@/styles/variables.css</code> or use CSS custom properties directly in your styles.
    </DSNote>
  </DSBlock>
</section>

<style>
  h4 {
    font-size: 16px;
    font-weight: 500;
    color: var(--light-color);
    margin: 24px 0 12px 0;
  }

  h4:first-of-type {
    margin-top: 0;
  }

  .color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
  }

  .color-swatch {
    display: flex;
    flex-direction: column;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .swatch {
    height: 80px;
    width: 100%;
  }

  .swatch-border {
    border: 1px dashed rgba(255, 255, 255, 0.3);
    box-sizing: border-box;
  }

  .color-info {
    padding: 12px;
    background-color: rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .color-info code {
    font-size: 13px;
    color: var(--accent-bright);
  }

  .color-info span {
    font-size: 12px;
    color: var(--color);
    opacity: 0.7;
    font-family: monospace;
  }

  @media screen and (max-width: 600px) {
    .color-grid {
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    }
  }
</style>
